---
layout: post
title: Cisco é˜²ç«å¢™ & Switch & VLAN & TFTP
tags: Misc
categories: ğŸŒ-Net
---

## Cisco é˜²ç«å¢™ & Switch & VLAN & TFTP

1. Consoleçº¿é¦–æ¬¡é…ç½®ï¼Œ
2. å¼€å¯Telnet/ssh ä»¥åéƒ½ç”¨è¿œç¨‹ç™»å½•ã€‚
	> æ³¨æ„ï¼šäº¤æ¢æœºå’Œè·¯ç”±å™¨çš„å‘½ä»¤éƒ½æ˜¯ä¸€æ ·çš„.

*æŸ¥çœ‹ ARP:*   `show arp`

### Manå‘½ä»¤å¯¼å‡º
	man ls > a.txt   
å¯¼å‡ºçš„æ–‡ä»¶ ä¼šæœ‰å¾ˆå¤šç‰¹æ®Šçš„ç¬¦å·. ä¸æ–¹ä¾¿æ‰“å°

	man ls | col -bfp > ls.txt
	man tftp | col -bfp > xx.txt
åŠ å‚æ•°å°±å¥½äº†.



### å‘½ä»¤è¡Œæ¨¡å¼:    ç”¨æˆ· â†’ ç‰¹æƒ â†’ å…¨å±€ â†’ æ¥å£ æ¨¡å¼.
> æƒé™ä¸€çº§ä¸€çº§è¿›çš„. ç”¨æˆ·æ¨¡å¼ä¸èƒ½ç›´æ¥è¿›å…¥å…¨å±€æ¨¡å¼.

#### *ç”¨æˆ·æ¨¡å¼*    ï¼š route\> / switch\>
é»˜è®¤è¿›å…¥çš„æ˜¯ç”¨æˆ·æ¨¡å¼ï¼Œå—é™åˆ¶æå¤§.

#### *ç‰¹æƒæ¨¡å¼*    switch# / route\#
*â€œenableâ€(å¯ç®€å†™ä¸ºâ€œenâ€)*
å¯ä»¥æŸ¥çœ‹å¹¶ä¿®æ”¹è·¯ç”±å™¨æˆ–äº¤æ¢æœºçš„é…ç½®ã€‚

\*\*ç‰¹æƒæ¨¡å¼å¸¸ç”¨å‘½ä»¤ï¼š
- show version ï¼šæŸ¥çœ‹ç³»ç»ŸIOSç‰ˆæœ¬
	*Â - show running-config ï¼šæŸ¥çœ‹å½“å‰çš„é…ç½®ä¿¡æ¯*
	- copy running-config startup-config ï¼šä¿å­˜å½“å‰çš„é…ç½® æˆ–è€…ä½¿ç”¨ write
		- erase startup-config ï¼šåˆ é™¤å·²ä¿å­˜çš„é…ç½®
			*Â - show startup-config ï¼šæŸ¥çœ‹ä¿å­˜å¥½çš„é…ç½®*
			- show mac-address-table ï¼šæŸ¥çœ‹äº¤æ¢æœºçš„macåœ°å€è¡¨
				- show int æ¥å£åç§° ï¼šæŸ¥çœ‹æ¥å£çš„ä¿¡æ¯
			*Â - show arp ï¼šæŸ¥çœ‹ARPç¼“å­˜è¡¨*
			*Â - show ip route ï¼šæŸ¥çœ‹è·¯ç”±è¡¨ä¿¡æ¯*
			- show ip int brief ï¼šæŸ¥çœ‹æ‰€æœ‰æ¥å£çš„IPåœ°å€ä¿¡æ¯ã€‚
				- no ip domain-lookup ï¼šç¦ç”¨DNSæŸ¥è¯¢
				- line con 0
				- exec-timeout 0 0 ï¼šä¸è¶…æ—¶è¿æ¥
			- logging synchronous ï¼šä¸å¯ç”¨æ—¶é—´åŒæ­¥ï¼Œä¿¡æ¯ä¸æ‰“æ–­è¾“å…¥å‘½ä»¤

#### *å…¨å±€æ¨¡å¼*  
route(config)\#
*â€œconfig terminalâ€(å¯ç®€å†™ä¸ºconf t)*

å¯é…ç½®è·¯ç”±å™¨çš„é™æ€æ¡ç›®ç­‰

ip route ç›®æ ‡ç½‘ç»œ å­ç½‘æ©ç  ä¸‹ä¸€è·³åœ°å€ ï¼šé…ç½®é™æ€è·¯ç”±
ip route 0.0.0.0 0.0.0.0 ä¸‹ä¸€è·³åœ°å€ Â ï¼šé…ç½®é»˜è®¤è·¯ç”±

reload ï¼šé‡å¯è·¯ç”±å™¨

#### *æ¥å£æ¨¡å¼*  ï¼š  route(config -if)\#
inter fastethernet æ¥å£åç§° ç®€å†™ *int f*

å¯é…ç½®æ­¤æ¥å£çš„åç§°ï¼Œæ‰€åšçš„é…ç½®ä¹Ÿåªå¯¹è¿™ä¸ªæ¥å£æœ‰æ•ˆã€‚

route(config)# inter fastethernet 0/1

ä¸»è¦æ˜¯ç»™æ¥å£é…ç½®IPåœ°å€ä»¥åŠå¼€å¯æ¥å£ç­‰é…ç½®ã€‚

ip address IPåœ°å€ å­ç½‘æ©ç  ï¼šç»™æ¥å£é…ç½®åœ°å€
no shutdown ï¼šå¼€å¯æ¥å£
æ³¨æ„ï¼šåœ¨è¿™äº›å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œå¦‚æœæƒ³è¦è¿›å…¥ä¸Šå±‚æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤ï¼Œå¦‚æœæ˜¯æƒ³è¦è¿”å›ä¸‹æ¬¡æ¨¡å¼å‘¢ï¼Ÿè¿™æ—¶å¯ä»¥ä½¿ç”¨â€œexitâ€å‘½ä»¤ï¼Œé€å±‚è¿”å›ã€‚
  

**äºŒã€é…ç½®æ¥å£çš„IPåœ°å€ä»¥åŠé…é™æ€è·¯ç”±**
è¦æƒ³ç»™æ¥å£é…ç½®IPåœ°å€å°±å¿…é¡»è¿›å…¥åˆ°æ¥å£æ¨¡å¼ï¼Œæ‰€ä»¥æˆ‘å…ˆè¦è¿›å…¥æ¥å£æ¨¡å¼ã€‚

*é…ç½®æ¥å£IPåœ°å€:*
route(config)# int f0/0
route(config-if)#ip add 192.168.1.1 255.255.255.0 Â  #åˆ—å¦‚é…ç½®ä¸€ä¸ª192.168.1.1çš„ipåœ°å€
no shutdown ï¼šå¼€å¯è¯¥æ¥å£
*é…ç½®é™æ€è·¯ç”±:*
ip route 10.10.10.0 255.255.255.0 192.168.1.1
ç”±äºäº¤æ¢æœºä¸ç”¨è®¾ç½®IPåœ°å€ï¼Œä½†æ˜¯éœ€è¦å¼€å¯ç«¯å£ã€‚
switch(config)#int range f0/1 -24 Â 
switch(config-if)#no shutdown
å¼€å¯äº¤æ¢æœºçš„0-24ä¸ªæ¥å£ã€‚
  

### è·¯ç”±å™¨ã€äº¤æ¢æœºå¯†ç çš„ç®¡ç†

1. é…ç½®çš„consoleå£å¯†ç 
	\`route(config)#line console 0
	\`\`route(config-line)#password å¯†ç 
	\`\`route(config-line)#login
	\`
2. é…ç½®ç‰¹æƒæ¨¡å¼å¯†ç 
	\`route(config)#enable password å¯†ç 
	\`
3. é…ç½®å¯†æ–‡å¯†ç 
	ä¸Šè¿°é…ç½®çš„å¯†ç éƒ½æ˜¯ä»¥æ˜æ–‡æ˜¾ç¤ºï¼ŒæŸ¥çœ‹å½“å‰é…ç½®å³å¯ä»¥æŸ¥çœ‹åˆ°å¯†ç ï¼Œè¿™æ ·å¾ˆä¸å®‰å…¨ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥é…ç½®å¯†ç ã€‚
	\`route(config)#enable secret å¯†ç  Â 
	\`ä¸Šè¿°æ˜¯é…ç½®åŠ å¯†çš„ç‰¹æƒå¯†ç ï¼Œåœ¨åŒæ—¶ä½¿passwordå’Œsecretè®¾ç½®ç‰¹æƒå¯†ç æ—¶ï¼Œåè€…ç”Ÿæ•ˆã€‚
	\`route(config)#service password-encryption
	\`ä¸Šè¿°æ–¹æ³•å¯ä»¥å°†æ˜æ–‡è®¾ç½®çš„å¯†ç è¿›è¡ŒåŠ å¯†ã€‚

4. æ¢å¤è·¯ç”±å™¨å¯†ç 
	*è·¯ç”±å™¨çš„å¯†ç å­˜åœ¨startup-configä¸­*ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯åŠ¨è·¯ç”±å™¨æ—¶ï¼Œå¿…é¡»ç»•è¿‡startup-configé…ç½®ï¼Œç„¶åé‡æ–°è®¾ç½®å¯†ç ã€‚
	å¦‚æœè¦ç»•è¿‡startup-configé…ç½®åªæœ‰ä¿®æ”¹å¯„å­˜å™¨çš„å€¼,é»˜è®¤æ˜¯ 0x2102(åå…­è¿›åˆ¶çš„)ï¼Œå°†å…¶æ”¹ä¸º0x2142å³å¯ã€‚
	ä¸‹é¢æ€»ç»“ä¸€äº›è·¯ç”±å™¨ç ´è§£å¯†ç çš„æ­¥éª¤ã€‚
	1. é‡å¯è·¯ç”±å™¨ï¼Œå¹¶åŒæ—¶æŒ‰ä¸‹Ctrl+Breaké”®ä¸­æ–­IOSçš„åŠ è½½ï¼Œè·¯ç”±å™¨å°†è¿›å…¥ROMMonitoræ¨¡å¼ã€‚
		2. å°†é…ç½®å¯„å­˜å™¨çš„å€¼æ”¹ä¸º0x2142ï¼Œå¹¶é‡æ–°å¯åŠ¨è·¯ç”±å™¨ã€‚
			rommom\>confreg 0x2142
			rommom\>reset
		3. è·¯ç”±å™¨å†æ¬¡é‡å¯ï¼Œç”±äºæ›´æ”¹äº† é…ç½®å¯„å­˜å™¨çš„å€¼ï¼Œè·¯ç”±å™¨æ— æ³•åŠ è½½é…ç½®æ–‡ä»¶ï¼Œå› æ­¤ä¸éœ€è¦å¯†ç éªŒè¯ï¼Œè¿›å…¥é…ç½®æ¨¡å¼åï¼Œæ‰‹åŠ¨å°†é…ç½®æ–‡ä»¶åŠ è½½å›æ¥ã€‚
			Route#copy startup-config running-config
		4. è¿™æ—¶å¯ä»¥ä½¿ç”¨show running-configæŸ¥çœ‹è·¯ç”±å™¨é…ç½®äº†é‚£äº›å¯†ç ï¼Œé€ä¸€æ›´æ”¹å¯†ç å³å¯ã€‚
		5. å°†é…ç½®å¯„å­˜å™¨çš„å€¼æ›´æ”¹å›æ¥ï¼Œå¹¶å°†æ‰€åšçš„é…ç½®ä¿å­˜,é‡å¯è·¯ç”±å³å¯ç”Ÿæ•ˆã€‚
			Router(config)#config-register 0x2012
			Router(config)#exit
			Router#copy running-config startup-config
			Router#reload
5. äº¤æ¢æœºå¯†ç çš„æ¢å¤
	*Ciscoäº¤æ¢æœºå¯†ç å­˜åœ¨flashä¸­çš„é…ç½®æ–‡ä»¶config.texté‡Œ*ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤â€œdirâ€æŸ¥çœ‹.
	æ¢å¤å¯†ç å’Œè·¯ç”±å™¨çš„åŸç†æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ç»•è¿‡é…ç½®æ–‡ä»¶å¯åŠ¨äº¤æ¢æœºå³å¯ï¼Œ
	è·¯ç”±å™¨æˆ‘ä»¬çŸ¥é“æ˜¯ä¿®æ”¹å¯„å­˜å™¨çš„å€¼ï¼Œé‚£ä¹ˆäº¤æ¢æœºå‘¢ï¼Ÿæˆ‘ä»¬æ”¹æ€ä¹ˆåšå‘¢ï¼Ÿ
	åŸç†å¾ˆç®€å•ï¼Œå°†config.textæ–‡ä»¶æ”¹ä¸ªåå­—ï¼Œè®©ç³»ç»Ÿåœ¨åŠ è½½é…ç½®æ–‡ä»¶æ—¶æ‰¾ä¸åˆ°å®ƒï¼Œè¿™æ ·äº¤æ¢æœºåœ¨å¯åŠ¨åå°±å›åˆ°äº†å‡ºå‚è®¾ç½®ï¼Œç™»å½•äº¤æ¢æœºä¹Ÿå°±ä¸éœ€è¦å¯†ç äº†ã€‚
	ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿›å…¥IOSåï¼Œè¦ä¸åŸæ¥çš„é…ç½®æ¢å¤å›æ¥ï¼Œåœ¨æŠŠå¯†ç æ”¹æˆè‡ªå·±çš„ã€‚
\*\*äº¤æ¢æœºå¯†ç æ¢å¤æ­¥éª¤å¦‚ä¸‹ï¼š
1. æ‹”æ‰äº¤æ¢æœºçš„ç”µæºçº¿ï¼Œå› ä¸ºäº¤æ¢æœºæ²¡æœ‰å¼€å…³æœºçš„æŒ‰é”®ï¼Œæ‰€ä»¥éœ€è¦æŠŠç”µæºé‡å¯äº¤æ¢æœº.
	åœ¨é‡æ–°æ¥ä¸Šäº¤æ¢æœºåï¼Œç«‹åˆ»æŒ‰ä½äº¤æ¢æœºä¸Šçš„â€œmodeâ€é”®ï¼Œå½“çœ‹åˆ°é…ç½®ç•Œé¢æ˜¾ç¤ºâ€œswith:â€å‘½ä»¤æç¤ºï¼Œä¾¿å¯æ¾å¼€â€œmodeâ€é”®ã€‚
	è¡¨ç¤ºå·²è¿‘è¿›å…¥åˆ°ä¸€ä¸ªä¸“é—¨ç”¨æ¥ä¸­æ•…éšœæ¢å¤çš„ç®€å•IOSã€‚
	2. ä½¿ç”¨æç¤ºçš„å‘½ä»¤`flash_init` åˆå§‹åŒ–flashã€‚

		3. å°†config.textæ–‡ä»¶æ”¹å,å¹¶é‡å¯äº¤æ¢æœºã€‚
			`switch:rename flash:config.text flash:config.txt`
			`switch:boot`
		4. ç°åœ¨å°±å¯æ­£å¸¸è¿›å…¥IOSäº†ï¼Œä½†æ˜¯è¿˜éœ€è¦åšç›¸å…³çš„é…ç½®æ‰å¯ä»¥ä¿®æ”¹å¯†ç ï¼Œ
		å…ˆè¦æŠŠé…ç½®æ–‡ä»¶çš„åå­—æ”¹å›æ¥ï¼Œç„¶åæ‰‹åŠ¨åŠ è½½é…ç½®æ–‡ä»¶ï¼Œæœ€åå°±å¯ä»¥æŸ¥çœ‹è®¾ç½®äº†é‚£äº›å¯†ç ï¼Œé€ä¸€æ›´æ”¹å³å¯ã€‚
		`switch# rename flash:config.txt flash:config.text`
		`switch# copy flash:config.text system:running-config`
		`switch# show running-config`
		5. æœ€åä¿å­˜é…ç½®å³å¯ã€‚
			`switch#copy running-config flash:config.text`

### è¿œç¨‹ç®¡ç†è·¯ç”±å™¨ï¼Œäº¤æ¢æœº
1. é…ç½®ç®¡ç†IP
	ç”±äºè·¯ç”±å™¨æ˜¯ä¸‰å±‚è®¾å¤‡ï¼Œå¯ä»¥ç›´æ¥åœ¨å™¨æ¥å£ä¸Šé…ç½®IPåœ°å€ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨æ¥å£åœ°å€ä½œä¸ºç®¡ç†IPå³å¯ã€‚
	äºŒäº¤æ¢æœºæ˜¯äºŒå±‚è®¾å¤‡ï¼Œå¿…é¡»é…ç½®ç®¡ç†IPåœ°å€ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™äº¤æ¢çš„è™šæ‹Ÿæ¥å£é…ç½®IPï¼Œåˆ—å¦‚ï¼šäº¤æ¢æœºçš„ç®¡ç†IPä¸º192.168.10.1
	`switch(config)#int vlan 1`
	`switch(config)#ip add 192.168.10.1 255.255.255.0`
	`switch(config)#no shutdown`

2. é…ç½®VTYå¯†ç è¿œç¨‹ç™»å½•ä¸€å°è®¾å¤‡æ—¶ï¼Œå¯ä»¥é€šè¿‡VTY(è™šæ‹Ÿç±»å‹ç»ˆç«¯)å¯†ç åšéªŒè¯ï¼ŒåŸºäºå®‰å…¨è€ƒè™‘ï¼Œæ²¡æœ‰é…ç½®VTYå¯†ç æ˜¯æ— æ³•å®ç°è¿œç¨‹ç™»å½•çš„ã€‚
	`switch(config)#line vty 0 4 Â  Â #è¡¨ç¤ºåŒæ—¶å…è®¸VTY0-VTY4ç­‰5ä¸ªè™šæ‹Ÿç»ˆç«¯è¿æ¥`
	`switch(config-line)#password 123 #VTYmima`
	`switch(config-line)#login`

3. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä»…ä»…æ˜¯é…ç½®ä¸Šè¿°å†…å®¹ï¼Œè¿˜æ˜¯æ— æ³•è¾¾åˆ°è¿œç¨‹ç®¡ç†çš„ç¨‹åº¦ï¼Œåº”è¿œç¨‹ç”¨æˆ·åªæœ‰çœ‹ï¼Œè€Œæ²¡æœ‰ä¿®æ”¹çš„æƒé™ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®ä¸€ä¸ªç‰¹æƒå¯†ç å³å¯ã€‚
	`switch(config)#enable secret 123`

4. å¦‚æœè¿œç¨‹çš„äº¤æ¢æœºä¸ç®¡ç†å‘˜çš„ä¸»æœºä¸åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œå°±å¿…é¡»ç»™äº¤æ¢æœºæŒ‡å®šé»˜è®¤ç½‘å…³ï¼Œå¦åˆ™æ— æ³•å®ç°è¿œç¨‹ç™»å½•ã€‚
	`switch(config)#ip default-gateway 192.168.10.254`

\*\*è·¯ç”±å™¨ï¼Œäº¤æ¢æœºçš„IOSå¤‡ä»½ä¸æ¢å¤
*è·¯ç”±å™¨ï¼Œäº¤æ¢æœºçš„IOSå¤‡ä»½ä¸æ¢å¤å·¥ä½œï¼Œä¸»è¦æ˜¯ä½¿ç”¨TFTP.*ä½†æ˜¯ç°åœ¨æ–°å‹çš„è·¯ç”±å™¨ï¼Œäº¤æ¢æœºå·²è¿‘æ”¯æŒTCPåè®®ä¼ è¾“äº†ã€‚

åœ¨æ­¤æˆ‘å°±ä»¥TFTPæè¿°å¤‡ä»½å’Œè¿˜åŸIOSçš„è¿‡ç¨‹ã€‚
IOSå¤‡ä»½å·¥ä½œå¦‚ä¸‹ï¼š
1ã€ä¸‹è½½Cisco TFTP Serverå·¥å…·ï¼Œå¹¶åˆ›å»ºTFTPæœåŠ¡å™¨æ ¹ç›®å½•ã€‚
2ã€åœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å¤‡ä»½IOSã€‚
\`Route# copy flash tftp
\`\`Address or name of remote host ? 192.168.10.2 Â #tftpæœåŠ¡å™¨çš„åœ°å€
\`\`Source filename ? c2800nm-ipbase-mz.123-6e.bin Â #ç³»ç»Ÿiosçš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨dirå‘½ä»¤æŸ¥çœ‹
\`\`Destinaon filename c2800nm-ipbase-mz.123-6e.bin ? Â  #è¿™é‡Œå›è½¦ç¡®è®¤ã€‚
\`
è¿™æ—¶å¯ä»¥æŸ¥çœ‹tftpçš„æ ¹ç›®å½•ï¼Œå°±ä¼šå‘ç°å·²è¿‘æœ‰ä¸€ä¸ªå¤‡ä»½å¥½çš„isoäº†ã€‚
å¦‚æœè¦å®ç°æ¢å¤å·¥ä½œåˆ™å°†Route# copy tftp flash å³å¯


### å¯¼å‡ºé…ç½®æ–‡ä»¶ ï¼ˆäº¤æ¢æœº&é˜²ç«å¢™&è·¯ç”±å™¨ é€šç”¨ï¼‰
1. å…ˆåœ¨Winä¸‹é¢ç”¨ tftpd32 æ­å»ºå¥½FTP æœåŠ¡å™¨.
	2. Telnet è¿›è®¾å¤‡ï¼Œen è¿›å…¥é«˜çº§æ¨¡å¼
	`#copy startup-config tftp`
	 è¾“å…¥ tftpdæœåŠ¡å™¨ IP
	è¾“å…¥è¦å¯¼å‡ºçš„æ–‡ä»¶å
	å›è½¦. 
	å»æœåŠ¡å™¨ä¸Šçœ‹å¯¼å‡ºçš„æ–‡ä»¶.



### **RiverStone ç½‘å…³ é…ç½®å¯¼å‡º**
1. telnet è¿›ç½‘å…³. 
2. enè¿›ç‰¹æƒæ¨¡å¼

3. è¾“å…¥ `?` 
	çœ‹çœ‹æ”¯æŒä»€ä¹ˆå‘½ä»¤!!!!!.  å‘ç°æœ‰ copy

4. è¾“å…¥ `copy ?`
	çœ‹ copy æ”¯æŒçš„å‘½ä»¤
	[keyword]              - One of the following keywords:
	 scratchpad          - Copy from the scratchpad configuration database
	 dns-server          - Copy from a DNS server
	 rcp-server          - Copy from a RCP server
	 tftp-server         - Copy from a TFTP server
	 startup             - Copy from the startup configuration database
	 active              - Copy from active configuration database (running
	   system)

5. è¾“å…¥ `copy active` å˜æˆä¸‹é¢è¿™æ ·äº†.
	> SH-OFFICE-GATEWAY(copy-active)\#
6. è¾“å…¥ `?`       çœ‹æ”¯æŒçš„å‘½ä»¤ :   to / Ctrl-Z / top
7. è¾“å…¥ `to ?`     çœ‹æ”¯æŒå‘½ä»¤. è¿™é‡Œé€‰ tftp-server
8. è¾“å…¥ `to tftp-server`
	è¾“å…¥TFTPæœåŠ¡å™¨ IP 
	è¾“å…¥è¦å¯¼å‡ºçš„æ–‡ä»¶å(è¿™ä¸ªæ–‡ä»¶åå¿…é¡»å·²ç»åœ¨æœåŠ¡å™¨ä¸­å­˜åœ¨.)
	å¤§æ¦‚å°±æ˜¯ ç½‘å…³åªèƒ½é€šè¿‡ tftp ä¿®æ”¹å·²ç»å­˜åœ¨çš„æ–‡ä»¶.è€Œä¸èƒ½åˆ›å»ºæ–°æ–‡ä»¶. ä¹Ÿä¸èƒ½ä¿®æ”¹æ–‡ä»¶å.



### è·¯ç”±å™¨æ–‡ä»¶ (å“ªäº›è¦å¤‡ä»½)







## VLAN

### **VLAN å¥½å¤„:**

1. æ§åˆ¶å¹¿æ’­
	- æ¯ä¸ªVLANéƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„å¹¿æ’­åŸŸï¼Œå¹¿æ’­ä¿¡æ¯åªä¼šåœ¨è¿™ä¸ªå¹¿æ’­åŸŸé‡Œé¢ä¼ æ’­ã€‚
		ä»è€Œå¤§å¤§å‡å°‘äº†å¹¿æ’­å¯¹ç½‘ç»œå®½å¸¦çš„å ç”¨ï¼Œä¹Ÿæé«˜äº†ç½‘ç»œä¼ è¾“æ•ˆç‡.
		- å¹¶ä¸”ä¸€ä¸ªVALNå‡ºç°äº†å¹¿æ’­é£æš´ä¸ä¼šå½±å“åˆ°å…¶ä»–çš„VLANã€‚

	2. å¢å¼ºç½‘ç»œå®‰å…¨æ€§

		ä¸åŒçš„VLANçš„ç”µè„‘ä¹‹é—´ä¸èƒ½ç›´æ¥ç›¸äº’è®¿é—®ï¼Œå°±é™åˆ¶ä¸ªåˆ«ä¸»æœºè®¿é—®æœåŠ¡å™¨èµ„æºã€‚æé«˜ç½‘ç»œçš„å®‰å…¨æ€§ã€‚

	3. ç®€åŒ–ç½‘ç»œç®¡ç†
		ç”±äºVLANå¯ä»¥æ ¹æ®ä¸åŒçš„ç¯å¢ƒè¿›è¡Œåˆ’åˆ†ï¼Œ
		å¯ä»¥å°†ä¸åŒåœ°ç†ä½ç½®çš„ä¸»æœºåˆ’åˆ†åˆ°åŒä¸€ä¸ªVLANä¸­ï¼Œè€Œä¸éœ€è¦ç§»åŠ¨ç‰©ç†è®¾å¤‡ï¼Œ
		æ‰€ä»¥åˆ©ç”¨VLANæŠ€æœ¯å¯ä»¥å¤§å¤§çš„å‡å°‘ç®¡ç†å‘˜çš„å·¥ä½œé‡ã€‚

### \*\*VLANçš„ç§ç±»

1. *é™æ€VLAN* ï¼ˆç«¯å£VLANï¼‰
	*æœ€å¸¸è§çš„VLANå®ç°æ–¹å¼ã€‚*
	éœ€è¦æ˜ç¡®æŒ‡å®šäº¤æ¢æœºçš„ç«¯å£å±äºå“ªä¸ªVLANã€‚

	2. *åŠ¨æ€VLAN*
		ç›®å‰æœ€æ™®éçš„å®ç°æ–¹æ³•æ˜¯*åŸºäºä¸»æœºç½‘å¡MACåœ°å€*çš„åŠ¨æ€VLANã€‚


		åˆ—å¦‚ï¼šåœ¨æ€ç§‘äº¤æ¢æœºä¸Šä½¿ç”¨VLANæ•°æ®åº“æ¨¡å¼é…ç½®ä¸€ä¸ªIDä¸ºVLAN 10çš„VLANã€‚
		Switch#vlan database
		Switch(vlan)#vlan 10
		Switch(vlan)#exit
		åˆ—å¦‚ï¼šåœ¨æ€ç§‘äº¤æ¢æœºä¸Šä½¿ç”¨å…¨å±€é…ç½®æ¨¡å¼é…ç½®ä¸€ä¸ªIDä¸ºVLAN 20çš„VLANã€‚
		Switch#configure terminal
		Switch(config)#vlan 20
		Switch(config-vlan)#exit
		åˆ é™¤VLANå¯ä»¥ä½¿ç”¨ Switch(vlan)#no vlan 10æˆ–Switch(config)#no vlan 20
		2ã€å°†äº¤æ¢æœºçš„ç«¯å£åŠ å…¥åˆ°ç›¸åº”çš„VLANä¸­ã€‚
		åˆ—å¦‚ï¼šå°†äº¤æ¢æœºçš„f0/1-f0/10å·ç«¯å£åŠ å…¥åˆ°VLAN 10ä¸­ã€‚
		Switch(config)#int range f0/1 -10
		Switch(config-if-range)#switchport access vlan 10
		Switch(config-if-range)#no sh
		Switch(config-if-range)exit
		3ã€æŸ¥çœ‹äº¤æ¢æœºVLANçš„é…ç½®ä¿¡æ¯ã€‚
		SWitch#show vlan brief

		é…ç½®VLAN Trunk
		æ¥å…¥é“¾è·¯ï¼šé€šå¸¸å±äºä¸€ä¸ªVLANï¼Œä¸»æœºä¸äº¤æ¢æœºä¹‹é—´è¿æ¥çš„é“¾è·¯å°±æ˜¯æ¥å…¥é“¾è·¯ã€‚
		ä¸­ç»§é“¾è·¯ï¼šå¯ä»¥æ‰¿è½½å¤šä¸ªVLANï¼Œä¸­ç»§é“¾è·¯å¸¸ç”¨æ¥å°†ä¸€å°äº¤æ¢æœºè¿æ¥åˆ°å…¶ä»–äº¤æ¢æœºï¼Œæˆ–è€…æ˜¯äº¤æ¢æœºè¿æ¥åˆ°è·¯ç”±å™¨ã€‚
		Trunkçš„ä½œç”¨ï¼šä½¿åŒä¸€ä¸ªVLANèƒ½å¤Ÿè·¨äº¤æ¢æœºé€šä¿¡ï¼Œä¸­ç»§é“¾è·¯ä¹‹é—´éƒ½ä½¿ç”¨Trunkã€‚
		Trunkçš„é…ç½®
		åˆ—å¦‚ï¼šå°†äº¤æ¢æœºçš„f0/24å·ç«¯å£é…ç½®ä¸ºTrunkæ¨¡å¼ã€‚
		Switch(config)#int f0/24
		Switch(config-if)#switchport mode trunk
		Switch(config-if)no sh
		Switch(config-if)exit
		æ³¨æ„ï¼šåªæœ‰ä¸­ç»§é“¾è·¯ä¸¤ç«¯éƒ½é…ç½®Trunkæ¨¡å¼ï¼Œä¸­ç»§é“¾è·¯æ‰ä¼šç”Ÿæ•ˆã€‚



		EthernetChannel(ä»¥å¤ªç½‘é€šé“)
		EthernetChannelé€šè¿‡æ†ç»‘å¤šæ¡ä»¥å¤ªé“¾è·¯æ¥æé«˜é“¾è·¯å¸¦å®½ï¼Œå¹¶è¿è¡Œä¸€ç§æœºåˆ¶ï¼Œå°†å¤šä¸ªä¸€å°ç½‘ç«¯å£æ†ç»‘æˆä¸€æ¡é€»è¾‘é“¾è·¯ã€‚ä»¥å¤ªç½‘é€šé“æœ€å¤šå¯ä»¥æ†ç»‘8æ¡ç‰©ç†é“¾è·¯ã€‚å…¶ä¸­ç‰©ç†é“¾è·¯å¯ä»¥æ˜¯åŒç»çº¿çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å…‰çº¤çš„ã€‚
		é…ç½®ä»¥å¤ªç½‘é€šé“çš„å‰ææ¡ä»¶
		1ã€å‚ä¸æ†ç»‘çš„ç«¯å£å¿…é¡»å±äºåŒä¸€ä¸ªVLANã€‚å¦‚æœæ˜¯åœ¨ä¸­ç»§æ¨¡å¼ä¸‹ï¼Œè¦æ±‚æ‰€å‚ä¸æ†ç»‘çš„ç«¯å£éƒ½æ˜¯åœ¨ä¸­ç»§æ¨¡å¼ä¸‹(ä¹Ÿå°±æ˜¯Trunkæ¨¡å¼)ï¼Œå¹¶ä¸”æ‰€æœ‰ç«¯å£ä¸Šé…ç½®ç›¸åŒçš„å‡†è®¸VLANèŒƒå›´ã€‚
		2ã€æ‰€æœ‰å‚ä¸æ†ç»‘çš„ç«¯å£çš„ç‰©ç†å‚æ•°è®¾ç½®å¿…é¡»ç›¸åŒï¼Œåº”è¯¥æœ‰åŒæ ·çš„é€Ÿåº¦å’ŒåŒå·¥æ¨¡å¼ã€‚
		ä»¥å¤ªç½‘é€šé“çš„é…ç½®
		ä¾‹å¦‚ï¼šå°†äº¤æ¢æœºä¸­ç»§é“¾è·¯çš„f0/23å’Œf0/24å·ç«¯å£æ†ç»‘æˆä»¥å¤ªç½‘é€šé“ã€‚
		Switch(config)#int range f0/23 -24
		Switch(config-if-range)#switchport mode trunk
		Switch(config-if-range)#channel-group 1 mode on
		Switch(config-if-range)#no sh
		Switch(config-if-range)#exit


## command

- ç‰ˆæœ¬ä¿¡æ¯:  `show version`

switch(config)#hostname 
- æ›´æ”¹äº¤æ¢æœºåå­—.

æ£€æŸ¥ã€æŸ¥çœ‹å‘½ä»¤
show (sh) å¼€å§‹

show flash æŸ¥çœ‹å†…å­˜

show mac-address-table  æŸ¥çœ‹ Mac åœ°å€åˆ—è¡¨



ä¸¤ç§æ–¹å¼ åˆ›å»º vlan
å…¨å±€é…ç½®æ¨¡å¼ä¸‹: vlan 10

æˆ–è€… vlan database ä¸‹ åˆ›å»º vlan:
switch(vlan)vlan 20


æ›´å¥½å±€åŸŸç½‘äº¤æ¢æœºåå­—
ç»ˆç«¯ä¸‹ è¾“å…¥ hostname xx  å°±å˜æˆ xx äº†.

*åˆ›å»º vlan*
xx(config) vlan 10
xx(config-vlan)# name xujian
xx(config-vlan)# exit


æŠŠç«¯å£ç»™ vlan

switch(config)# interface fastethernet0/1  è¿›å…¥ç«¯å£é…ç½®æ¨¡å¼
switch(config)# switchport mode access é…ç½®ç«¯å£ä¸º access æ¨¡å¼
switch(config)# swtchport access vlan 10 æŠŠç«¯å£åˆ’åˆ†ç»™ vlan 10

ä¸€æ¬¡æŠŠå¤šä¸ªç«¯å£ åˆ†ç»™æŸVlan :interface range

xx(config-if-range)#interface range fa0/5 -6


æŸ¥çœ‹vlanä¿¡æ¯ 
switch# show vlan


é™æ€è·¯ç”±é…ç½®

äº†è§£é™æ€åŸç†



å¦‚:  
ä¸€ç½‘ç»œ  é‡Œé¢ ä¸‰ä¸ªç½‘æ®µ
192.168.1.1
192.168.2.1
192.168.3.1

1.1 ä¸‹é¢çš„ç”µè„‘ è¦è®¿é—®  2.1/3.1 
éœ€è¦ æ•°æ®åŒ… å‘ç»™ 1.1 çš„è·¯ç”±å™¨ 
1.1 çš„è·¯ç”±å™¨  ç”±äºæ²¡æœ‰ 2.1/3.1 çš„è·¯ç”±
æ‰€ä»¥éœ€è¦ æ‰‹åŠ¨æ¥ é…ç½®  é™æ€è·¯ç”±.
æ•°æ®æ˜¯åŒå‘çš„  .

è·¯ç”±å™¨1 éœ€è¦
ip route 192.168.2.0 255.255.255.0 10.1.12.2 
// æŠŠ å‰å¾€2.0ç½‘æ®µçš„æ•°æ® å‘é€ç»™æ€»çš„ç½‘å…³. å†è¿›è¡Œè½¬å‘.



åŠ¨æ€è·¯ç”±:





é™æ€è·¯ç”±:
ç½‘ç®¡ æ‰‹å·¥é…ç½®è·¯ç”±ä¿¡æ¯.
å½“æ‹“æ‰‘å›¾å‘ç”Ÿå˜åŒ–æ—¶å€™  ç½‘ç®¡è¦æ‰‹å·¥å»æ”¹ è·¯ç”±è¡¨ä¸­çš„é™æ€è·¯ç”±ä¿¡æ¯.

é™æ€è·¯ç”±ä¿¡æ¯ é»˜è®¤æƒ…å†µä¸‹æ˜¯ ç§æœ‰çš„ ä¸ä¼šä¼ é€’ç»™åˆ«çš„è·¯ç”±å™¨.
å½“ç„¶ ç½‘ç®¡å¯ä»¥é€šè¿‡å¯¹è·¯ç”±å™¨è¿›è¡Œè®¾ç½®ä½¿ä¹‹æˆä¸ºå…±äº«çš„.


é™æ€è·¯ç”± é€‚ç”¨ç®€å•ç½‘ç»œç¯å¢ƒ. ç½‘ç®¡æ¯”è¾ƒäº†è§£ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„,æ–¹ä¾¿æ­£ç¡®è®¾ç½®è·¯ç”±ä¿¡æ¯.




 ä¼˜ç‚¹: ç½‘ç»œå®‰å…¨ ä¿å¯†æ€§é«˜. å¾ˆå°‘å ç”¨è·¯ç”±å™¨ cpu å’Œ RAM å’Œçº¿è·¯å¸¦å®½


åŠ¨æ€è·¯ç”±: 
è·¯ç”±å™¨ä¹‹é—´éœ€è¦é¢‘ç¹çš„äº¤æ¢å„è‡ªçš„è·¯ç”±è¡¨,
é€šè¿‡åˆ†æè¿™äº›è·¯ç”±è¡¨ å¯ä»¥åˆ†æ å‡ºç½‘ç»œçš„ æ‹“æ‰‘ç»“æ„+ç½‘ç»œåœ°å€ç­‰ä¿¡æ¯. å› æ­¤æœ‰å®‰å…¨éšæ‚£.    


å¤§å‹ç½‘ç»œ  ä¸å®œé€‰ç”¨é™æ€è·¯ç”± 

ä¸€æ–¹é¢ ç½‘ç®¡éš¾ä»¥å…¨é¢äº†è§£ æ•´ä¸ªç½‘ç»œæ‹“æ‰‘ç»“æ„
å¦ä¸€é¢ å½“ç½‘ç»œæ‹“æ‰‘å‘ç”Ÿæ”¹å˜ é™æ€è·¯ç”±è¡¨ éœ€è¦å¤§èŒƒå›´çš„è°ƒæ•´ éš¾åº¦å’Œå¤æ‚åº¦éå¸¸é«˜




é™æ€è·¯ç”±ä¸¾ä¾‹:
> IP çœç•¥å‰é¢çš„ 192.168.

PCA (0.2 ) \<---\> ( 0.1 ) Router1 ( 1.1 )  \<---\> ( 1.2 ) Router2 ( 2.1 ) \<---? PCB ( 2.2 )


é»˜è®¤ A B æ˜¯ä¸èƒ½é€šä¿¡çš„.
A ä¸çŸ¥é“ B çš„ç½‘æ®µ ( ä¹Ÿå°±æ˜¯æ²¡æœ‰å»ç© B ç½‘æ®µçš„è·¯ç”±è¡¨ ) 
B ä¸çŸ¥é“ A çš„ç½‘æ®µ
â†’ é€šä¿¡å¤±è´¥.

è¿™æ—¶å€™ å°±éœ€è¦ åœ¨
R1 R2 ä¸Š åˆ†åˆ«é…ç½®é™æ€è·¯ç”±æ¥ä½¿å¾— AB å¯äº’é€š.

R1 ä¸Šæ‰§è¡Œ æ·»åŠ é™æ€è·¯ç”±çš„å‘½ä»¤:
ip route 192.168.2.0 255.255.255.0 192.168.1.1 
// å‘Šè¯‰ R1 å¦‚æœæœ‰å»2.0ç½‘æ®µçš„ IP åŒ…, å°†åŒ…å‘ä¸ª 192.168.1.1

R2 ä¸Šæ‰§è¡Œ 
ip route 192.168.0.0 255.255.255.0 192.168.1.1
// å‘Šè¯‰ R2 å¦‚æœæœ‰å»0.0ç½‘æ®µçš„ IP åŒ…, å°†åŒ…å‘ä¸ª 192.168.1.2


è¿™æ · Aâ†’B çš„åŒ…  ä¼šé€šè¿‡ R1 çš„ 0.0ç½‘æ®µ è½¬ç»™ 1.1çš„ç½‘å£ å†è½¬ç»™R2çš„ 1.2çš„ç½‘å£ å†è½¬ç»™2.0 ç½‘æ®µ



é»˜è®¤è·¯ç”±: ( å±äº é™æ€è·¯ç”±çš„ä¸€ç§ )

æŒ‡çš„æ˜¯ å½“è·¯ç”±è¡¨ä¸­ä¸åŒ…åœ°å€ ä¹‹é—´æ²¡æœ‰åŒ¹é…é¡¹ç›®æ—¶ è·¯ç”±èƒ½åšå‡ºé€‰æ‹©,
å¦‚æœ æ²¡æœ‰é»˜è®¤è·¯ç”± é‚£ä¹ˆ æ²¡æœ‰åŒ¹é…é¡¹çš„åŒ…å°†è¢«ä¸¢å¼ƒ.




è·¯ç”±å™¨å¾—æŸ¥çœ‹è·¯ç”±è¡¨ å†³å®š å¦‚ä½•è½¬å‘æ•°æ®åŒ….
ç”¨é™æ€è·¯ç”± ä¸€ä¸ªä¸€ä¸ªé…ç½® å¤ªçƒ¦æ˜“é”™.






å¦‚æœ è·¯ç”±å™¨ æœ‰ä¸ªé‚»å±… çŸ¥é“æ€ä¹ˆå‰å¾€æ‰€æœ‰ç›®çš„åœ° å¯ä»¥æŠŠè·¯ç”±è¡¨åŒ¹é…ä»»åŠ¡äº¤ç»™ä»– çœäº‹.
è¿™ä¸ªé‚»å±… å°±æ˜¯ç½‘å…³. 
å¦‚æœ è·¯ç”±å™¨ è¿åˆ°ç½‘å…³, é‚£ä¹ˆ æ‰€æœ‰çš„æ•°æ®åŒ…éƒ½ä¼šè½¬å‘ç»™ç½‘å…³.


é»˜è®¤è·¯ç”± æ˜¯ 0.0.0.0 (å°±æ˜¯ ä½  ä¸å»æ‰‹åŠ¨å»è®¾ç½®ç½‘å…³)
åŒ¹é… ip åœ°å€çš„æ—¶å€™ 0 è¡¨ç¤º wildcard / é€šé…ç¬¦ . ä»»ä½•å€¼éƒ½å¯ä»¥.











é™æ€è·¯ç”±ä¿¡æ¯åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ç§æœ‰çš„ï¼Œä¸ä¼šé€šå‘Šç»™å…¶å®ƒè·¯ç”±å™¨ï¼Œä¹Ÿå°±æ˜¯å½“åœ¨ä¸€ä¸ªè·¯ç”±å™¨ä¸Šé…ç½®äº†æŸæ¡é™æ€è·¯ç”±æ—¶ï¼Œå®ƒä¸ä¼šè¢«é€šå‘Šåˆ°ç½‘ç»œä¸­ç›¸è¿çš„å…¶å®ƒè·¯ç”±å™¨ä¸Šã€‚ä½†ç½‘ç»œç®¡ç†å‘˜è¿˜æ˜¯å¯ä»¥é€šè¿‡é‡å‘å¸ƒé™æ€è·¯ç”±ä¸ºå…¶å®ƒåŠ¨æ€è·¯ç”±ï¼Œä½¿å¾—ç½‘ç»œä¸­å…¶å®ƒè·¯ç”±å™¨ä¹Ÿå¯è·æ­¤é™æ€è·¯ç”±ã€‚


é™æ€è·¯ç”±æ˜¯å…·æœ‰å•å‘æ€§çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒä»…ä¸ºæ•°æ®æä¾›æ²¿ç€ä¸‹ä¸€è·³çš„æ–¹å‘è¿›è¡Œè·¯ç”±ï¼Œä¸æä¾›åå‘è·¯ç”±ã€‚æ‰€ä»¥å¦‚æœä½ æƒ³è¦ä½¿æºèŠ‚ç‚¹ä¸ç›®æ ‡èŠ‚ç‚¹æˆ–ç½‘ç»œè¿›è¡ŒåŒå‘é€šä¿¡ï¼Œå°±å¿…é¡»åŒæ—¶é…ç½®å›ç¨‹é™æ€è·¯ç”±ã€‚è¿™åœ¨ä¸è¯»è€…æœ‹å‹çš„äº¤æµä¸­ç»å¸¸å‘ç°è¿™æ ·çš„é—®é¢˜ï¼Œå°±æ˜¯æ˜æ˜é…ç½®äº†åˆ°è¾¾æŸèŠ‚ç‚¹çš„é™æ€è·¯ç”±ï¼Œå¯è¿˜æ˜¯pingä¸é€šï¼Œå…¶ä¸­ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯æ²¡æœ‰é…ç½®å›ç¨‹é™æ€è·¯ç”±ã€‚


å¦‚æœæŸæ¡é™æ€è·¯ç”±ä¸­é—´ç»è¿‡çš„è·³æ•°å¤§äº1ï¼ˆä¹Ÿå°±æ˜¯æ•´æ¡è·¯ç”±è·¯å¾„ç»å†äº†ä¸‰ä¸ªæˆ–ä»¥ä¸Šè·¯ç”±å™¨ç»“ç‚¹ï¼‰ï¼Œåˆ™å¿…é¡»åœ¨é™¤æœ€åä¸€ä¸ªè·¯ç”±å™¨å¤–çš„å…¶å®ƒè·¯ç”±å™¨ä¸Šä¾æ¬¡é…ç½®åˆ°è¾¾ç›¸åŒç›®æ ‡èŠ‚ç‚¹æˆ–ç›®æ ‡ç½‘ç»œçš„é™æ€è·¯ç”±ï¼Œè¿™å°±æ˜¯é™æ€è·¯ç”±çš„â€œæ¥åŠ›â€ç‰¹æ€§ï¼Œå¦åˆ™ä»…åœ¨æºè·¯ç”±å™¨ä¸Šé…ç½®è¿™ä¹ˆé™æ€è·¯ç”±è¿˜æ˜¯ä¸å¯è¾¾çš„ã€‚
Â  Â å°±åƒä½ è¦ä»é•¿æ²™åˆ°åŒ—äº¬å»ï¼Œå‡è®¾ä¸­é—´è¦é€”ç»çš„ç«™ç‚¹åŒ…æ‹¬ï¼šæ­¦æ±‰-éƒ‘å·-çŸ³å®¶åº„ï¼Œå¯äººå®¶åªå‘Šè¯‰ä½ ç›®çš„åœ°æ˜¯åŒ—äº¬ï¼Œä»¥åŠä»é•¿æ²™å‡ºå‘çš„ä¸‹ä¸€ç«™æ˜¯æ­¦æ±‰ã€‚å¯¹äºä¸€ä¸ªæ²¡æœ‰å¤šå°‘æ—…æ¸¸ç»éªŒçš„äººæ¥è¯´ï¼Œä½ æ˜¯ä¸å¯èƒ½çŸ¥é“åˆ°äº†æ­¦æ±‰ååˆè¯¥å¦‚ä½•èµ°ï¼Œå¿…é¡»æœ‰äººå‘Šè¯‰ä½ åˆ°äº†æ­¦æ±‰åå†æ€ä¹ˆèµ°ï¼Œåˆ°äº†éƒ‘å·ååˆè¯¥æ€ä¹ˆèµ°ï¼Œâ€¦â€¦ã€‚è¿™å°±æ˜¯â€œæ¥åŠ›æ€§â€ã€‚


ç»éªŒä¹‹è°ˆã€‘è·¯ç”±å™¨å„ç«¯å£ä¸Šæ‰€ç›´æ¥è¿æ¥çš„å„ä¸ªç½‘ç»œéƒ½æ˜¯ç›´æ¥äº’é€šçš„ï¼Œå› ä¸ºå®ƒä»¬ä¹‹é—´é»˜è®¤å°±æœ‰ç›´è¿è·¯ç”±ï¼Œæ— éœ€å¦å¤–é…ç½®å…¶å®ƒè·¯ç”±ã€‚ä¹Ÿå³è¿æ¥åœ¨åŒä¸€è·¯ç”±å™¨ä¸Šçš„å„ç½‘ç»œä¹‹é—´çš„è·³æ•°ä¸º0ã€‚



## VLANs
[è‹±æ–‡ VLAN prié…ç½®æ•™ç¨‹]()

è™šæ‹Ÿå±€åŸŸç½‘

ddwrt è®¾ç½®æ•™ç¨‹


è®¾ç½® â†’ VLANs â†’ æ¯ä¸ªç«¯å£ åˆ†é…ç»™ä¸åŒçš„ ç»„
æ¯”å¦‚ 
ç«¯å£ w åˆ†ç»™ vlan 2
ç«¯å£ 1 åˆ†ç»™ vlan 3
ç«¯å£ 2 åˆ†ç»™ vlan 4
ç«¯å£ 3 åˆ†ç»™ vlan 5
ç«¯å£ 4 åˆ†ç»™ vlan 6


ç„¶åå» ç½‘ç»œä¸‹é¢   ç«¯å£é…ç½®
Vlan  3456 éƒ½ä¸è¦é€‰æ‹©é¢„è®¾ é€‰æ‹©æœªé…ç½® .
ç„¶å ç»™æ¯ä¸ª vlan éƒ½è®¾ç½® ipæ®µ + å­ç½‘æ©ç 


ç„¶åè¿˜è¦å¼€å¯ dhcp åŠŸèƒ½: ä¹Ÿå°±æ˜¯å¤šè·¯ dhcpd åŠŸèƒ½  

è¿™é‡Œ æ·»åŠ  4ä¸ª dhcpd æœåŠ¡å™¨.  æ¯ä¸ªæœåŠ¡å™¨ é€‰æ‹©ç›¸åº”çš„ vlan åˆ†ç»„ å°±å¥½äº†. ok.







è®¾å¤‡çš„ç®¡ç†æ˜¯ç»´æŠ¤è®¾å¤‡æ­£å¸¸è¿è¡Œçš„åŸºæœ¬æ¡ä»¶ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹æ€ç§‘è·¯ç”±å™¨å’Œäº¤æ¢æœºçš„ä¸€äº›åŸºæœ¬ç®¡ç†å‘½ä»¤å’Œæ–¹æ³•ã€‚
ç®¡ç†è·¯ç”±å™¨å’Œäº¤æ¢æœºçš„æ–¹æ³•ä»¥åŠå‘½ä»¤ä¸»è¦åˆ†ä¸ºä¸€ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
1ã€äº†è§£å‘½ä»¤è¡Œçš„æ¨¡å¼ã€‚
2ã€é…ç½®æ¥å£çš„IPåœ°å€ä»¥åŠç›¸å…³çš„è·¯ç”±æ¡ç›®ã€‚
3ã€è·¯ç”±å™¨ã€äº¤æ¢æœºå¯†ç çš„ç®¡ç†ã€‚
4ã€è¿œç¨‹ç®¡ç†è·¯ç”±å™¨ã€äº¤æ¢æœºã€‚
5ã€ç³»ç»ŸIOSçš„å¤‡ä»½ä¸æ¢å¤ã€‚






## GNS3

äº’è”ç½‘æ“ä½œç³»ç»Ÿï¼ˆ**Internetwork Operating Systemï¼Œç®€ç§°IOS**ï¼‰
æ€ç§‘å…¬å¸ä¸ºå…¶ç½‘ç»œè®¾å¤‡å¼€å‘çš„æ“ä½œç»´æŠ¤ç³»ç»Ÿã€‚

å®˜ç½‘ä¸‹è½½ 1.4.5 å…è´¹. è·¨å¹³å°ç½‘ç»œè™šæ‹Ÿè½¯ä»¶( è·¯ç”±ç³»ç»Ÿ )

GNS3æ•´åˆäº†å¦‚ä¸‹çš„è½¯ä»¶ï¼š
â€¢ Dynamipsï¼šç”µè„‘è¿è¡ŒCiscoç³»ç»Ÿ(IOS)çš„æ¨¡æ‹Ÿå™¨
â€¢ Dynagenï¼šæ˜¯Dynamipsçš„æ–‡å­—æ˜¾ç¤ºå‰ç«¯
â€¢ Pemuï¼šPIXé˜²ç«å¢™è®¾å¤‡æ¨¡æ‹Ÿå™¨ã€‚
â€¢ Winpcapï¼šä¸ºwin32åº”ç”¨ç¨‹åºæä¾›è®¿é—®ç½‘ç»œåº•å±‚çš„èƒ½åŠ›ã€‚
Â 
åŠŸèƒ½ç®€ä»‹ï¼š
â€¢ è®¾è®¡ä¼˜ç§€çš„ç½‘ç»œæ‹“æ‰‘ç»“æ„
â€¢ æ¨¡æ‹ŸCiscoè·¯ç”±è®¾å¤‡å’ŒPIXé˜²ç«å¢™
â€¢ ä»¿çœŸç®€å•çš„Ethernet,Â ATMå’Œå¸§ä¸­ç»§äº¤æ¢æœº





ç”¨æˆ·é€šè¿‡å‘½ä»¤è¡Œäººæœºç•Œé¢å¯¹ç½‘ç»œè®¾å¤‡è¿›è¡ŒåŠŸèƒ½è®¾ç½®ï¼Œæä¾›çš„åŠŸèƒ½å¤§è‡´ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼šç½‘ç»œè®¾å¤‡åŠè¿æ¥ç«¯å£çš„åŠŸèƒ½é¦–é€‰é¡¹è®¾ç½®ã€è¿è¡Œç½‘ç»œåè®®ä¸ç½‘ç»œåŠŸèƒ½è®¾å¤‡é—´ä¹‹æ•°æ®ä¼ è¾“å®‰å…¨ç®¡ç†è®¾ç½®ã€‚


**GNS3 æ¨èIOS:**   c3640, c3660, c3725, c3745 and c7200 .            // åˆ«çš„ä¸ä¸€å®šå…¼å®¹.  



## Cisco Router + æ¨¡æ‹Ÿå™¨

æ¨¡æ‹Ÿå™¨:  æ¨¡æ‹Ÿè®¾ç½®.å­¦ä¹ ç”¨. ç±»ä¼¼ VM VB ç­‰è™šæ‹Ÿæœº.

1. Cisco Packet Tracer 6.2 ç½‘ç»œæ¨¡æ‹Ÿå™¨ä¸­æ–‡æ­£å¼ç‰ˆï¼Œå¸¦ä¸­æ–‡æ±‰åŒ–è¡¥ä¸ï¼Œ
	å°†æ–‡ä»¶Chinese.ptlæ‹·è´åˆ°C:\Program Files (x86)\Cisco Packet Tracer 6.2sv\languagesç›®å½•ä¸‹ï¼Œ
	è¿è¡ŒCisco Packet Tracer 6.2ï¼Œåœ¨é€‰é¡¹ä¸­ä¿®æ”¹è¯­è¨€ã€‚


## GNS3  
ä¸æ˜¯æ”¯æŒ æ‰€æœ‰è®¾å¤‡çš„è™šæ‹Ÿ.  æœ‰äº›.bin æ–‡ä»¶  â†’  Sorry, this is not a valid IOS image!
å…è´¹è½¯ä»¶ å®˜ç½‘ä¸‹è½½ .  å’Œè™šæ‹Ÿæœºä¸€æ · éœ€è¦ cisco è·¯ç”±ç³»ç»Ÿçš„é•œåƒæ–‡ä»¶( .bin æ ¼å¼çš„ )

è®¾ç½® â†’ Dynamips â†’ ios routers â†’  é€‰æ‹©ä¸‹è½½çš„ .bin é•œåƒ. â†’ ä¸€è·¯ NEXT. 

å¼€æœº: æ‹–å‡ºè·¯ç”±å™¨åˆ°ä¸»ç•Œé¢.  å³é”® start  
è¿›å…¥å‘½ä»¤çª—å£: å¼€æœºååŒå‡»è·¯ç”±å›¾æ ‡




  





