---
layout: post
title:  ğŸ”–jQueryäº‹ä»¶âœ”ï¸
tags: äº‹ä»¶
categories: jQuery
---

JS åœ¨æµè§ˆå™¨ä¸­ ä»¥å•çº¿ç¨‹è¿è¡Œ.
*é¡µé¢åŠ è½½å. ä¸€æ—¦æ‰€æœ‰jsä»£ç è¢«æ‰§è¡Œå®Œå, å°±åªèƒ½ä¾èµ–è§¦å‘äº‹ä»¶æ¥æ‰§è¡ŒJSä»£ç *

æµè§ˆå™¨ æ”¶åˆ°é¼ æ ‡/é”®ç›˜ çš„è¾“å…¥å.ä¼šè‡ªåŠ¨åœ¨å¯¹åº”çš„ DOMèŠ‚ç‚¹ä¸Šè§¦å‘ç›¸åº”çš„äº‹ä»¶.
å¦‚æœè¿™ä¸ªèŠ‚ç‚¹ ç»‘å®šäº† å¯¹åº”çš„jså¤„ç†å‡½æ•°. è¿™ä¸ªå‡½æ•°å°±ä¼šè¢«è‡ªåŠ¨è°ƒç”¨.

ä¸åŒçš„æµè§ˆå™¨ ç»‘å®šäº‹ä»¶çš„ä»£ç éƒ½ä¸å¤ªä¸€æ ·.jsåˆå¸®æˆ‘ä»¬å±è”½äº†ä¸åŒæµè§ˆå™¨çš„å·®å¼‚.
æˆ‘ä»¬æ€»æ˜¯ç¼–å†™ç›¸åŒçš„ä»£ç .



å¦‚: è¦åœ¨ç‚¹å‡»è¶…é“¾æ¥æ—¶å€™å¼¹å‡ºæç¤ºæ¡†:
~~~
/* HTML:
 *
 * <a id="test-link" href="#0">ç‚¹æˆ‘è¯•è¯•</a>
 *
 */

// è·å–è¶…é“¾æ¥çš„jQueryå¯¹è±¡:
var a = $('#test-link');
a.on('click', function () {
    alert('Hello!');
});
~~~
{: .language-ruby}



**`on` æ–¹æ³•ç”¨æ¥æŠŠä½ çš„ä¸€ä¸ªäº‹ä»¶**
å¦ä¸€ç§æ›´ç®€åŒ–çš„å†™æ³•: ç›´æ¥è°ƒç”¨ `click()æ–¹æ³•`
~~~
a.click(    function () { alert('Hello!');}         );
~~~
{: .language-ruby}
ä¸¤è€…å®Œå…¨ç­‰ä»·ã€‚æˆ‘ä»¬é€šå¸¸ç”¨åé¢çš„å†™æ³•ã€‚




## é¼ æ ‡äº‹ä»¶
click: é¼ æ ‡å•å‡»æ—¶è§¦å‘ï¼›
dblclickï¼šé¼ æ ‡åŒå‡»æ—¶è§¦å‘ï¼›
mouseenterï¼šé¼ æ ‡è¿›å…¥æ—¶è§¦å‘ï¼›
mouseleaveï¼šé¼ æ ‡ç§»å‡ºæ—¶è§¦å‘ï¼›
mousemoveï¼šé¼ æ ‡åœ¨DOMå†…éƒ¨ç§»åŠ¨æ—¶è§¦å‘ï¼›
hoverï¼šé¼ æ ‡è¿›å…¥å’Œé€€å‡ºæ—¶è§¦å‘ä¸¤ä¸ªå‡½æ•°ï¼Œç›¸å½“äºmouseenteråŠ ä¸Šmouseleaveã€‚



## é”®ç›˜äº‹ä»¶
é”®ç›˜äº‹ä»¶ä»…ä½œç”¨åœ¨å½“å‰ç„¦ç‚¹çš„DOMä¸Šï¼Œé€šå¸¸æ˜¯\<input\>å’Œ\<textarea\>ã€‚
keydownï¼šé”®ç›˜æŒ‰ä¸‹æ—¶è§¦å‘ï¼›
keyupï¼šé”®ç›˜æ¾å¼€æ—¶è§¦å‘ï¼›
keypressï¼šæŒ‰ä¸€æ¬¡é”®åè§¦å‘ã€‚



## å…¶ä»–äº‹ä»¶
focusï¼šå½“DOMè·å¾—ç„¦ç‚¹æ—¶è§¦å‘ï¼›
blurï¼šå½“DOMå¤±å»ç„¦ç‚¹æ—¶è§¦å‘ï¼›
changeï¼šå½“\<input\>ã€\<select\>æˆ–\<textarea\>çš„å†…å®¹æ”¹å˜æ—¶è§¦å‘ï¼›
submitï¼šå½“\<form\>æäº¤æ—¶è§¦å‘ï¼›
readyï¼šå½“é¡µé¢è¢«è½½å…¥å¹¶ä¸”DOMæ ‘å®Œæˆåˆå§‹åŒ–åè§¦å‘ã€‚



#### ready äº‹ä»¶
é¡µé¢åŠ è½½å®Œæˆ ä¼šè§¦å‘ readyäº‹ä»¶.éå¸¸æœ‰ç”¨.
å¾ˆå¤šè„šæœ¬ æ˜¯éœ€è¦æ‰€æœ‰åˆ«çš„è„šæœ¬åŠ è½½å¥½ä¹‹åæ‰èƒ½æ­£å¸¸è¿è¡Œçš„...

~~~
$(document).ready(function () {
    // on('submit', function)ä¹Ÿå¯ä»¥ç®€åŒ–:
    $('#testForm).submit(function () {
        alert('submit!');
    });
});
~~~
{: .language-ruby}

ç”šè‡³è¿˜å¯ä»¥å†ç®€åŒ–ä¸ºï¼š
~~~
$(function () {
    // init...
});
~~~
{: .language-ruby}



å®Œå…¨å¯ä»¥åå¤ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå®ƒä»¬ä¼šä¾æ¬¡æ‰§è¡Œï¼š
~~~
$(function () {
    console.log('init A...');
});
$(function () {
    console.log('init B...');
});
$(function () {
    console.log('init C...');
});
~~~
{: .language-ruby}




## äº‹ä»¶å‚æ•°
æœ‰äº›äº‹ä»¶,å¦‚ mousemove keypress
æˆ‘ä»¬éœ€è¦è·å–é¼ æ ‡ä½ç½® å’Œ æŒ‰é”®çš„å€¼, å¦åˆ™ç›‘å¬è¿™äº›äº‹ä»¶ä¹Ÿå°±æ²¡ä»€ä¹ˆæ„ä¹‰äº†.
*æ‰€æœ‰äº‹ä»¶éƒ½ä¼šä¼ å…¥ eventå¯¹è±¡ ä½œä¸ºå‚æ•°. å¯ä»¥ä»eventå¯¹è±¡ä¸Šè·å¾—æ›´å¤šçš„ä¿¡æ¯*

~~~
$(function () {
    $('#testMouseMoveDiv').mousemove(function (e) {
        $('#testMouseMoveSpan').text('pageX = ' + e.pageX + ', pageY = ' + e.pageY);
    });
});
~~~
{: .language-ruby}
æ•ˆæœå®æµ‹ï¼š
mousemove: pageX = 361, pageY = 3212




## å–æ¶ˆç»‘å®š off('click', function)


~~~
function hello() {
    alert('hello!');
}

a.click(hello); // ç»‘å®šäº‹ä»¶

// 10ç§’é’Ÿåè§£é™¤ç»‘å®š:
setTimeout(function () {
    a.off('click', hello);
}, 10000);
~~~
{: .language-ruby}


éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œä¸‹é¢è¿™ç§å†™æ³•æ˜¯æ— æ•ˆçš„ï¼š
~~~
// ç»‘å®šäº‹ä»¶:
a.click(function () {
    alert('hello!');
});

// è§£é™¤ç»‘å®š:
a.off('click', function () {
    alert('hello!');
});
~~~
{: .language-ruby}






## äº‹ä»¶è§¦å‘æ¡ä»¶
*äº‹ä»¶çš„è§¦å‘æ€»æ˜¯ç”±ç”¨æˆ·æ“ä½œå¼•å‘çš„ã€‚*
*ç”¨JSè„šæœ¬è§¦å‘çš„ä¿®æ”¹ ä¸ä¼šè§¦å‘äº‹ä»¶*



ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç›‘æ§æ–‡æœ¬æ¡†çš„å†…å®¹æ”¹åŠ¨ï¼š
~~~
var input = $('#test-input');
input.change(function () {
    console.log('changed...');
});
~~~
{: .language-ruby}
å½“ç”¨æˆ·åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥æ—¶ï¼Œå°±ä¼šè§¦å‘changeäº‹ä»¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœç”¨JavaScriptä»£ç å»æ”¹åŠ¨æ–‡æœ¬æ¡†çš„å€¼ï¼Œå°†ä¸ä¼šè§¦å‘changeäº‹ä»¶ï¼š
~~~
var input = $('#test-input');
input.val('change it!'); // æ— æ³•è§¦å‘changeäº‹ä»¶
~~~
{: .language-ruby}

å¦‚æœå¸Œæœ›ç”¨ä»£ç æ¥è§¦å‘ changeäº‹ä»¶: å¯ä»¥ç”¨æ— å‚æ•°çš„ change()æ–¹æ³•æ¥è§¦å‘:

~~~
var input = $('#test-input');
input.val('change it!');
input.change(); // è§¦å‘changeäº‹ä»¶
~~~
{: .language-ruby}
input.change()ç›¸å½“äºinput.trigger('change')ï¼Œå®ƒæ˜¯trigger()æ–¹æ³•çš„ç®€å†™ã€‚

ä¸ºä»€ä¹ˆæˆ‘ä»¬å¸Œæœ›æ‰‹åŠ¨è§¦å‘ä¸€ä¸ªäº‹ä»¶å‘¢ï¼Ÿå¦‚æœä¸è¿™ä¹ˆåšï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¾—å†™ä¸¤ä»½ä¸€æ¨¡ä¸€æ ·çš„ä»£ç ã€‚



## æµè§ˆå™¨å®‰å…¨é™åˆ¶
æœ‰äº›jsä»£ç  åªæœ‰åœ¨ç”¨æˆ·è§¦å‘ä¸‹æ‰èƒ½æ‰§è¡Œ. å¦‚: window.open()
~~~
// æ— æ³•å¼¹å‡ºæ–°çª—å£ï¼Œå°†è¢«æµè§ˆå™¨å±è”½:
$(function () {
    window.open('/');
});
~~~
{: .language-ruby}



è¿™äº›â€œæ•æ„Ÿä»£ç â€åªèƒ½ç”±ç”¨æˆ·æ“ä½œæ¥è§¦å‘ï¼š
~~~
var button1 = $('#testPopupButton1');
var button2 = $('#testPopupButton2');

function popupTestWindow() {
    window.open('/');
}

button1.click(function () {
    popupTestWindow();
});

button2.click(function () {
    // ä¸ç«‹åˆ»æ‰§è¡ŒpopupTestWindow()ï¼Œ100æ¯«ç§’åæ‰§è¡Œ:
    setTimeout(popupTestWindow, 100);
});
~~~
{: .language-ruby}
å½“ç”¨æˆ·ç‚¹å‡»button1æ—¶ï¼Œclickäº‹ä»¶è¢«è§¦å‘ï¼Œç”±äºpopupTestWindow()åœ¨clickäº‹ä»¶å¤„ç†å‡½æ•°å†…æ‰§è¡Œï¼Œè¿™æ˜¯æµè§ˆå™¨å…è®¸çš„ï¼Œè€Œbutton2çš„clickäº‹ä»¶å¹¶æœªç«‹åˆ»æ‰§è¡ŒpopupTestWindow()ï¼Œå»¶è¿Ÿæ‰§è¡Œçš„popupTestWindow()å°†è¢«æµè§ˆå™¨æ‹¦æˆªã€‚









