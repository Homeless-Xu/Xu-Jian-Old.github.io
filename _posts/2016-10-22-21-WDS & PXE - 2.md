---
layout: post
title: WDS & PXE  
tags: Misc
categories: ğŸ’»-Win
---

## WDS & PXE

WDS:    WindowsDeployment Services  **Windowséƒ¨ç½²æœåŠ¡**
> ç±»ä¼¼äºLinuxç³»ç»Ÿçš„PXEï¼Œç”¨æ¥æ‰¹é‡éƒ¨ç½²Windowsæ“ä½œç³»ç»Ÿ


*WDS ç»„ä»¶:*
1. æœåŠ¡å™¨ç»„ä»¶ã€‚
	ç”¨äºç½‘ç»œå¯åŠ¨å®¢æˆ·ç«¯çš„PXEæœåŠ¡å™¨å’ŒTFTPæœåŠ¡å™¨ï¼Œä»¥åŠ è½½å¹¶å®‰è£…æ“ä½œç³»ç»Ÿã€‚æ­¤å¤–è¿˜åŒ…æ‹¬ä¸€ä¸ªå…±äº«æ–‡ä»¶å¤¹å’Œæ˜ åƒå­˜å‚¨åº“ï¼Œå…¶åŒ…å«ç½‘ç»œå¯åŠ¨æ‰€éœ€è¦çš„å¯åŠ¨æ˜ åƒã€å®‰è£…æ˜ åƒåŠæ–‡ä»¶ã€‚Windows Server 2008çš„WDSä¸ä½†æä¾›äº†PXEçš„æ”¯æŒï¼Œå¯¹ç”¨äºä¼ è¾“å¯åŠ¨æ˜ åƒçš„TFTPç­‰åè®®ä¹Ÿè¿›è¡Œäº†ä¼˜åŒ–ï¼Œèƒ½å¤Ÿæä¾›æ›´å¿«çš„PXEå¯åŠ¨é€Ÿåº¦ã€‚
2. å®¢æˆ·ç«¯ç»„ä»¶ã€‚
	WDSä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªé›†ä¸­åŒ–ç®¡ç†æ“ä½œç³»ç»Ÿå’Œå¯åŠ¨æ˜ åƒçš„ç±»MMCç»Ÿä¸€ç•Œé¢ã€‚åœ¨æ­¤å¯ä»¥æ–¹ä¾¿çš„è®¾ç½®WDSã€æ·»åŠ /åˆ é™¤æ“ä½œç³»ç»Ÿå’Œå¯åŠ¨æ˜ åƒã€‚æ­¤å¤–ä¹Ÿå¯ä»¥ç”¨æ¥æ•è·å·²å®‰è£…å¥½çš„è®¡ç®—æœºæ“ä½œç³»ç»Ÿã€‚
3. ç®¡ç†ç»„ä»¶ã€‚
	åŒ…æ‹¬WDSç®¡ç†æ§åˆ¶å°å’Œå‘½ä»¤è¡Œå·¥å…·ï¼Œä»–ä»¬å¯ä»¥ç”¨äºç®¡ç†æœåŠ¡å™¨ï¼Œæ“ä½œç³»ç»Ÿæ˜ åƒå’Œå®¢æˆ·ç«¯è®¡ç®—æœºå¸æˆ·ã€‚åˆ©ç”¨WDSå¤šæ’­éƒ¨ç½²ï¼Œå¯ä»¥å°†æ“ä½œç³»ç»ŸåŒæ—¶å¿«é€Ÿéƒ¨ç½²åˆ°å¤šå°è®¡ç®—æœºä¸­ï¼Œè¿™ä¸ªæ˜¯ç»å¯¹å®ç”¨çš„åŠŸèƒ½ã€‚
å€¼å¾—å…³æ³¨çš„æ˜¯ï¼Œåœ¨Windows Server 2008çš„WDSä¸­ä½¿ç”¨çš„åŸºäºæ–‡ä»¶çš„WIMæ ¼å¼ï¼Œå’Œæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„Ghostç­‰å·¥å…·ä¸åŒï¼ŒGhostç­‰å·¥å…·æ˜¯åŸºäºç£ç›˜çš„ã€‚ç”±äºæ˜¯åŸºäºæ–‡ä»¶ï¼Œæ‰€ä»¥WIMæ ¼å¼çš„æ˜ åƒå¯ä»¥åœ¨ä¸ç ´ååŸæœ‰ç£ç›˜æ–‡ä»¶ç³»ç»Ÿçš„æƒ…å†µä¸‹å¯¹ç³»ç»Ÿè¿›è¡Œæ¢å¤ï¼Œä¸”å ç”¨ç©ºé—´æå°ã€‚



*WDS é•œåƒç±»å‹*
1. Boot image
Â Â Â Â Â  åŒ…æ‹¬WDS clientå’Œwindows peã€‚
Â Â Â Â Â  ä½äºWindows7ï¼Œ2008çš„å®‰è£…å…‰ç›˜ä¸­ï¼Œåä¸ºboot.wimã€‚
Â Â Â Â Â  å•boot imageå¯æ”¯æŒå¤šinstall imageã€‚
Â Â Â Â Â  æ‰§è¡Œå®‰è£…windowsç³»ç»Ÿ
Â Â Â Â Â  ä¿®å¤æ“ä½œç³»ç»Ÿ
Â Â Â Â Â  å¯åŠ¨é•œåƒæ•è·
Â Â Â Â Â  å¯åŠ¨å…¶ä»–ç”¨é€”çš„windowsPE
2. Installimage
Â Â Â Â Â  ç±»ä¼¼äºwindowsçš„å®‰è£…å…‰ç›˜
Â Â Â Â Â  Windows7/2008å…‰ç›˜\source\install.wim
Â Â Â Â Â  Windowsvistaï¼šsysprep /oobe /generalize /rebootï¼Œç„¶åè¿›è¡Œæ•è·
Â Â Â Â Â  Windowsxpï¼šsysprep â€“mini â€“reseal â€“rebootï¼Œç„¶åè¿›è¡Œæ•è·

1.3 WDSå®‰è£…æ¡ä»¶
Â Â Â Â Â  ActiveDirectory æœåŠ¡å™¨
Â Â Â Â Â  DHCP æœåŠ¡å™¨
Â Â Â Â Â  DNSæœåŠ¡å™¨
Â Â Â Â Â  WDS æœåŠ¡å™¨
Â Â Â Â Â  æ¨¡ç‰ˆè®¡ç®—æœºï¼ˆä¸»è¦é’ˆå¯¹windowsvistaä¹‹å‰æ“ä½œç³»ç»Ÿæ—¶ä½¿ç”¨ï¼‰



WDSéƒ¨ç½²
Â Â Â Â Â  2.1éƒ¨ç½²æ­¥éª¤
Â Â Â Â Â Â  é…ç½®WDSå®‰è£…ï¼Œè¦è¿›è¡Œå¦‚ä¸‹æ­¥éª¤ï¼š
1ï¼‰é…ç½®ADæœåŠ¡å™¨:WDSä¾èµ–äºADï¼Œè¿™æ˜¯ç¡¬æ€§è¦æ±‚ã€‚
2ï¼‰é…ç½®DHCPæœåŠ¡å™¨:ä¸ºç½‘å¡å¯åŠ¨çš„å®¢æˆ·ç«¯åˆ†é…IPåœ°å€ã€‚
3ï¼‰é…ç½®DNSæœåŠ¡å™¨ï¼šç›¸åº”åŸŸå†…ä¸»æœºçš„IPè§£æã€‚
4ï¼‰é…ç½®WDSæœåŠ¡å™¨ï¼šç³»ç»Ÿéƒ¨ç½²çš„æ ¸å¿ƒåº”ç”¨ã€‚



## ä»£ç é«˜äº®è®¾ç½®
ä»£ç å— æœ€ä¸Šé¢å¿…é¡»ç©ºä¸€è¡Œ!!!! ä¸ç„¶æ— æ•ˆ....




## ä»£ç å—!!!   â†’ æ— é«˜äº®

	â”œâ”€â”€ _config.yml
	â”œâ”€â”€ _includes
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _layouts
	â”‚ â”œâ”€â”€ default.html
	â”‚ â”œâ”€â”€ page.html
	â”‚ â””â”€â”€ post.html
	â”œâ”€â”€ _posts
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _sass
	â”‚ â”œâ”€â”€ _base.scss
	â”‚ â”œâ”€â”€ _layout.scss
	â”‚ â””â”€â”€ _syntax-highlighting.scss
	â”œâ”€â”€ about.md
	â”œâ”€â”€ css
	â”‚ â””â”€â”€ main.scss
	â”œâ”€â”€ feed.xml
	â””â”€â”€ index.html

ç»“æ„: div â†’ pre â†’ code .

div :  class="highlighter-rouge"
pre:   calss= highlight
code:   æ— class




## ä»£ç å—+é«˜äº®!!!  â†’  æœ‰é«˜äº®
	â”œâ”€â”€ _config.yml
	â”œâ”€â”€ _includes
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _layouts
	â”‚ â”œâ”€â”€ default.html
	â”‚ â”œâ”€â”€ page.html
	â”‚ â””â”€â”€ post.html
	â”œâ”€â”€ _posts
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _sass
	â”‚ â”œâ”€â”€ _base.scss
	â”‚ â”œâ”€â”€ _layout.scss
	â”‚ â””â”€â”€ _syntax-highlighting.scss
	â”œâ”€â”€ about.md
	â”œâ”€â”€ css
	â”‚ â””â”€â”€ main.scss
	â”œâ”€â”€ feed.xml






## æºä»£ç +é«˜äº®.language-ruby   â†’æœ‰é«˜äº®

	.
	â”œâ”€â”€ _config.yml
	â”œâ”€â”€ _includes
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _layouts
	â”‚ â”œâ”€â”€ default.html
	â”‚ â”œâ”€â”€ page.html
	â”‚ â””â”€â”€ post.html
	â”œâ”€â”€ _posts
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _sass
	â”‚ â”œâ”€â”€ _base.scss
	â”‚ â”œâ”€â”€ _layout.scss
	â”‚ â””â”€â”€ _syntax-highlighting.scss
	â”œâ”€â”€ about.md
	â”œâ”€â”€ css
	â”‚ â””â”€â”€ main.scss
	â”œâ”€â”€ feed.xml
	â””â”€â”€ index.html


ç»“æ„: div â†’ pre â†’ code .

div :  class="highlighter-rouge language-ruby"
pre:   calss= highlight
code:   æ— class






## æºä»£ç +é«˜äº®.language-ruby2  â†’ æ— é«˜äº®

	.
	â”œâ”€â”€ _config.yml
	â”œâ”€â”€ _includes
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _layouts
	â”‚ â”œâ”€â”€ default.html
	â”‚ â”œâ”€â”€ page.html
	â”‚ â””â”€â”€ post.html
	â”œâ”€â”€ _posts
	â”‚ â”œâ”€â”€ â€¦
	â”œâ”€â”€ _sass
	â”‚ â”œâ”€â”€ _base.scss
	â”‚ â”œâ”€â”€ _layout.scss
	â”‚ â””â”€â”€ _syntax-highlighting.scss
	â”œâ”€â”€ about.md
	â”œâ”€â”€ css
	â”‚ â””â”€â”€ main.scss
	â”œâ”€â”€ feed.xml
	â””â”€â”€ index.html



ç»“æ„: pre â†’ code .
pre:   æ— 
code:  calss= language-ruby2



å¯ä»¥çœ‹å‡º..  æ­£å¸¸ä»£ç è¦é«˜äº®. å°±å¾—å®‰è£…